<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X Trade - Realistic Trading App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-black text-white font-sans">

    <!-- Header -->
    <div class="flex justify-between items-center p-4 border-b border-gray-700">
        <div class="text-xl font-bold">ðŸ“ˆ X Trade</div>
        <div id="balance" class="text-lg">Balance: $10,000</div>
    </div>

    <!-- Trading Chart -->
    <div class="p-4">
        <canvas id="tradingChart" class="w-full h-64"></canvas>
    </div>

    <!-- Crypto List (Auto Scrolling) -->
    <div class="overflow-hidden whitespace-nowrap mt-4">
        <div id="cryptoList" class="inline-flex space-x-4 animate-scroll">
            <!-- Crypto cards will be inserted here -->
        </div>
    </div>

    <!-- Buy & Sell Buttons -->
    <div class="fixed bottom-4 left-0 right-0 flex justify-center space-x-4">
        <button onclick="openTradeModal('buy')" class="bg-green-500 px-6 py-2 rounded-lg">Buy</button>
        <button onclick="openTradeModal('sell')" class="bg-red-500 px-6 py-2 rounded-lg">Sell</button>
    </div>

    <!-- Trade Modal -->
    <div id="tradeModal" class="fixed inset-0 bg-black bg-opacity-70 hidden flex items-center justify-center">
        <div class="bg-gray-900 p-6 rounded-lg w-80">
            <h2 id="modalTitle" class="text-xl mb-2"></h2>
            <input type="text" id="name" placeholder="Your Name" class="w-full p-2 mb-2 bg-gray-800">
            <input type="text" id="phone" placeholder="Phone Number" class="w-full p-2 mb-2 bg-gray-800">
            <input type="number" id="value" placeholder="Amount ($)" class="w-full p-2 mb-2 bg-gray-800">
            <select id="paymentMethod" class="w-full p-2 bg-gray-800">
                <option value="card">Credit Card</option>
                <option value="easypaisa">EasyPaisa</option>
                <option value="jazzcash">JazzCash</option>
            </select>
            <div class="mt-4 flex justify-between">
                <button onclick="submitTrade()" class="bg-blue-500 px-4 py-2 rounded-lg">Confirm</button>
                <button onclick="closeTradeModal()" class="bg-gray-600 px-4 py-2 rounded-lg">Cancel</button>
            </div>
        </div>
    </div>

    <script>
        let balance = 10000;
        let cryptoPrices = {
            Bitcoin: 50000,
            Ethereum: 3500,
            Dogecoin: 0.25,
            Solana: 120,
            Cardano: 1.2
        };

        // Initialize Chart
        const ctx = document.getElementById('tradingChart').getContext('2d');
        const tradingChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: Array(10).fill(''),
                datasets: [{
                    label: 'Price ($)',
                    data: Array(10).fill(50000),
                    borderColor: 'green',
                    backgroundColor: 'rgba(0, 255, 0, 0.2)',
                    borderWidth: 2
                }]
            },
            options: {
                animation: {
                    duration: 500
                },
                scales: {
                    x: { display: false },
                    y: { display: true, grid: { color: '#333' } }
                }
            }
        });

        // Auto-update Crypto Prices and Chart
        function updateCryptoPrices() {
            Object.keys(cryptoPrices).forEach(crypto => {
                let change = (Math.random() - 0.5) * 100; 
                cryptoPrices[crypto] += change;
                cryptoPrices[crypto] = Math.max(1, cryptoPrices[crypto]);
            });

            let newPrice = cryptoPrices["Bitcoin"];
            let dataset = tradingChart.data.datasets[0];
            dataset.data.shift();
            dataset.data.push(newPrice);
            dataset.borderColor = newPrice > dataset.data[dataset.data.length - 2] ? "green" : "red";
            dataset.backgroundColor = newPrice > dataset.data[dataset.data.length - 2] ? "rgba(0, 255, 0, 0.2)" : "rgba(255, 0, 0, 0.2)";
            tradingChart.update();

            updateCryptoList();
            updateBalance();
        }

        // Update Crypto List with Prices and Arrows
        function updateCryptoList() {
            let cryptoListDiv = document.getElementById('cryptoList');
            cryptoListDiv.innerHTML = '';
            Object.entries(cryptoPrices).forEach(([crypto, price]) => {
                let change = (Math.random() - 0.5) * 10;
                let color = change >= 0 ? 'green' : 'red';
                let arrow = change >= 0 ? 'â†‘' : 'â†“';

                let card = document.createElement('div');
                card.className = `p-3 bg-gray-800 rounded-lg text-center w-32`;
                card.innerHTML = `<p>${crypto}</p><p class="${color}-500">${arrow} $${price.toFixed(2)}</p>`;
                cryptoListDiv.appendChild(card);
            });
        }

        // Open Trade Modal
        function openTradeModal(type) {
            document.getElementById('modalTitle').innerText = type === 'buy' ? 'Buy Crypto' : 'Sell Crypto';
            document.getElementById('tradeModal').classList.remove('hidden');
            document.getElementById('tradeModal').dataset.type = type;
        }

        // Close Trade Modal
        function closeTradeModal() {
            document.getElementById('tradeModal').classList.add('hidden');
        }

        // Submit Trade
        function submitTrade() {
            let type = document.getElementById('tradeModal').dataset.type;
            let value = parseFloat(document.getElementById('value').value);
            if (isNaN(value) || value <= 0) return alert('Enter a valid amount');

            if (type === 'buy' && value > balance) {
                return alert("Insufficient balance!");
            }

            balance += type === 'buy' ? -value : value;
            updateBalance();
            alert(type === 'buy' ? 'Purchase Successful!' : 'Sale Successful!');
            closeTradeModal();
        }

        // Update Balance Display
        function updateBalance() {
            document.getElementById('balance').innerText = `Balance: $${balance.toFixed(2)}`;
        }

        // Update Every 5 Seconds
        setInterval(updateCryptoPrices, 5000);
        updateCryptoPrices(); // Initial Load
    </script>

</body>
</html>
